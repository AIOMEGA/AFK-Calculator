# views.py
from django.shortcuts import render

# used lists instead of models because then I can use tools to grab numbers, aka less tedious.

GOLD = [
    23, 72, 134, 222, 314, 444, 600, 740, 892, 1116,
    1300, 1577, 1793, 2126, 2377, 2638, 3056, 3354, 3837, 4172,
    4304, 4635, 4769, 4901, 5251, 5386, 5750, 5888, 6025, 6407,
    6547, 6686, 7087, 7229, 7371, 7790, 7935, 8368, 8516, 8665,
    9116, 9269, 9421, 9891, 10048, 10204, 10695, 10856, 11018, 11529,
    12339, 13539, 14356, 15164, 16432, 17241, 18039, 19362, 20155, 20934,
    22301, 23070, 24467, 25222, 25960, 27382, 28101, 28802, 30239, 30917,
    31576, 33019, 33653, 35102, 35709, 36296, 37739, 38297, 38834, 40265,
    40772, 42194, 42667, 43117, 44510, 44919, 45300, 46644, 46969, 48263,
    48514, 48716, 49880, 49963, 49970, 50906, 50716, 51410, 50943, 50304,
    53493, 55855, 58387, 61097, 63996, 67093, 70396, 75334, 79144, 83185,
    87463, 91982, 96742, 101743, 106984, 112459, 120392, 126424, 132666, 139102,
    145716, 152487, 159393, 166412, 173518, 184031, 191366, 198709, 206032, 213311,
    220520, 227635, 234635, 241500, 252726, 259392, 265875, 272167, 278258, 284145,
    289823, 295292, 300553, 311065, 316005, 320744, 325288, 329646, 333823, 337828,
    341670, 345356, 348896, 352299, 361810, 365017, 368109, 371094, 373980, 376773,
    379481, 382111, 384667, 387158, 396304, 398718, 401079, 403394, 405665, 407897,
    410094, 412258, 414394, 416504, 418590, 427785, 429867, 431933, 433984, 436022,
    438049, 440067, 442077, 444081, 446079, 448073, 457565, 459586, 461606, 463626,
    465646, 467667, 469689, 471714, 473741, 475771, 477805, 479843, 489786, 491867,
    493953, 496045, 498142, 500246, 502356, 504473, 506596, 508727, 510865, 513010,
    523472, 525667, 527870, 530082, 532301, 534529, 536766, 539010, 541264, 543526,
    545798, 548078, 550367, 561438, 563782, 566135, 568498, 570871, 573253, 575645,
    578046, 580458, 582879, 585310, 587751, 590202, 601923, 604433, 606953, 304742,
    322297, 340343, 358879, 377907, 397426, 417437, 437940, 458936, 480425, 510137,
    532960, 556285, 580113, 604444, 629278, 654616, 680459, 706807, 733660, 761019,
    788884, 817256, 846135, 888788, 919136, 950001, 981382, 1013281, 1045698, 1078634, 
    1112088, 1146062, 1180555, 1215569, 1251104, 1287161, 1323740, 1360841, 1419338, 1458055, 
    1461193, 1464344, 1467509, 1470687, 1473878, 1477082, 1480300, 1483531, 1486775, 1490033, 
    1493305, 1496590, 1499889, 1525307, 1528683, 1532072, 1535476, 1538893, 1542325, 1545772, 
    1549232, 1552707, 1556197, 1559701, 1563220, 1566753, 1570301, 1573864, 1600303, 1603948, 
    1607608, 1611283, 1614973, 1618679, 1622400, 1626137, 1629890, 1633658, 1637441, 1641241, 
    1645056, 1648887, 1652734, 1656598, 1684198, 1688149, 1692117, 1696101, 1700102, 1704119, 
    1708153, 1712204, 1716272, 1720357, 1724459, 1728578, 1732714, 1736867, 1741038, 1745226, 
    1774071, 1778353, 1782654, 1786972, 1791308, 1795662, 1800035, 1804426, 1808835, 1813262, 
    1817708, 1822172, 1826655, 1831157, 1835677, 1840216, 1844774, 1875037, 1879697, 2010520, 
    2141363, 2272226, 2403108, 2534010, 2538788, 2543585, 2548403, 2553241, 2558099, 2562977, 
    2567875, 2572794, 2577734, 2582694, 2623122, 2628192, 2633283, 2638395, 2643529, 2648684, 
    2653860, 2659058, 2664278, 2669520, 2674783, 2680068, 2685375, 2690705, 2696056, 2701430, 
    2706827, 2712245, 2754412, 2759950, 2765511, 2771095, 2776703, 2782333, 2787988, 2793666, 
    2799367, 2805092, 2810841, 2816614, 2822412, 2828233, 2834078, 2839948, 2845843, 2851762, 
    2895808, 2901856, 2907929, 2914027, 2920151, 2926301, 2932476, 2938676, 2944903, 2951156, 
    2957434, 2963739, 2970070, 2976427, 2982811, 2989222, 2995659, 3002123, 3008614, 3054805, 
    3061436, 3068095, 3074782, 3081497, 3088239, 3095010, 3101809, 3108636, 3115492, 3122376, 
    3129289, 3136231, 3143202, 3150201, 3157230, 3164288, 3171376, 3178493, 3227012, 3234282, 
    3241582, 3248912, 3256274, 3263665, 3271088, 3278541, 3286026, 3293542, 3301089, 3308667, 
    3316277, 3323919, 3331593, 3339299, 3347036, 3354806, 3362609, 3370444, 3421623, 3429625, 
    3437660, 3445728, 3453830, 3461966, 3470136, 3478340, 3486578, 3494850, 3503157, 3511498, 
    3519874, 3528286, 3536732, 3545213, 3553730, 3562282, 3570870, 3579494, 3633573, 3642378, 
    3651221, 3660100, 3669017, 3677970, 3686961, 3695989, 3705055, 3714158, 3723300, 3732480, 
    3741698
]

HERO_EXP = [
    89, 133, 170, 204, 239, 273, 307, 343, 380, 417,
    456, 497, 539, 583, 629, 676, 726, 778, 831, 888,
    946, 1008, 1071, 1138, 1208, 1280, 1356, 1436, 1518, 1605,
    1695, 1789, 1887, 1989, 2096, 2208, 2325, 2446, 2573, 2706,
    2845, 2981, 3124, 3272, 3426, 3587, 3754, 3928, 4109, 4298,
    4742, 5191, 5658, 6143, 6647, 7169, 7710, 8269, 8848, 9447,
    10000, 11000, 11000, 12000, 13000, 13000, 14000, 15000, 15000, 16000,
    17000, 18000, 18000, 19000, 20000, 21000, 21000, 22000, 23000, 24000,
    25000, 26000, 26000, 27000, 28000, 29000, 30000, 30000, 31000, 32000,
    33000, 34000, 35000, 35000, 36000, 37000, 37000, 38000, 38000, 39000,
    41000, 44000, 46000, 49000, 53000, 56000, 60000, 64000, 69000, 74000,
    79000, 84000, 90000, 97000, 103000, 111000, 118000, 127000, 135000, 144000,
    154000, 164000, 174000, 185000, 196000, 207000, 219000, 231000, 244000, 256000,
    269000, 283000, 296000, 310000, 323000, 337000, 352000, 366000, 380000, 395000,
    409000, 423000, 437000, 451000, 465000, 479000, 493000, 507000, 521000, 535000,
    549000, 563000, 577000, 592000, 606000, 620000, 635000, 650000, 664000, 679000,
    694000, 709000, 723000, 738000, 752000, 767000, 782000, 797000, 813000, 828000,
    844000, 860000, 876000, 892000, 909000, 926000, 943000, 960000, 978000, 995000,
    1014000, 1031000, 1048000, 1066000, 1084000, 1102000, 1121000, 1140000, 1159000, 1178000,
    1198000, 1218000, 1239000, 1259000, 1280000, 1302000, 1323000, 1345000, 1368000, 1391000,
    1414000, 1436000, 1458000, 1481000, 1504000, 1528000, 1551000, 1575000, 1600000, 1625000,
    1650000, 1676000, 1702000, 1728000, 1755000, 1783000, 1810000, 1839000, 1867000, 1896000,
    1926000, 1956000, 1986000, 2017000, 2048000, 2080000, 2112000, 2145000, 2179000, 2212000,
    2247000, 2282000, 2317000, 2353000, 2390000, 2427000, 2465000, 2503000, 2542000, 1290000,
    1380000, 1475000, 1570000, 1675000, 1780000, 1890000, 2005000, 2125000, 2250000, 2380000,
    2515000, 2655000, 2800000, 2950000, 3110000, 3270000, 3435000, 3610000, 3790000, 3975000, 
    4170000, 4365000, 4570000, 4785000, 5005000, 5230000, 5465000, 5705000, 5955000, 6210000, 
    6480000, 6735000, 7000000, 7270000, 7550000, 7840000, 8130000, 8435000, 8745000, 9065000, 
    9165000, 9240000, 9320000, 9400000, 9480000, 9560000, 9645000, 9725000, 9810000, 9895000, 
    9980000, 10040000, 10100000, 10160000, 10220000, 10280000, 10340000, 10405000, 10465000, 10530000, 
    10595000, 10635000, 10680000, 10725000, 10770000, 10810000, 10855000, 10900000, 10945000, 10990000, 
    11040000, 11085000, 11130000, 11175000, 11220000, 11270000, 11315000, 11365000, 11410000, 11460000, 
    11505000, 11555000, 11605000, 11650000, 11700000, 11750000, 11800000, 11850000, 11900000, 11950000, 
    12000000, 12050000, 12100000, 12155000, 12205000, 12255000, 12310000, 12360000, 12415000, 12465000, 
    12520000, 12575000, 12625000, 12680000, 12735000, 12790000, 12845000, 12900000, 12955000, 13010000, 
    13070000, 13125000, 13180000, 13240000, 13295000, 13355000, 13410000, 13470000, 13530000, 14495000, 
    15470000, 16445000, 17425000, 18405000, 18475000, 18545000, 18615000, 18685000, 18755000, 18825000, 
    18895000, 18970000, 19040000, 19110000, 19185000, 19255000, 19330000, 19405000, 19480000, 19550000, 
    19625000, 19700000, 19775000, 19855000, 19930000, 20005000, 20080000, 20160000, 20235000, 20315000, 
    20395000, 20470000, 20550000, 20630000, 20710000, 20790000, 20870000, 20955000, 21035000, 21115000, 
    21200000, 21280000, 21365000, 21450000, 21535000, 21615000, 21700000, 21790000, 21875000, 21960000, 
    22045000, 22135000, 22220000, 22310000, 22395000, 22485000, 22575000, 22665000, 22755000, 22845000, 
    22935000, 23030000, 23120000, 23215000, 23305000, 23400000, 23495000, 23590000, 23685000, 23780000, 
    23875000, 23970000, 24065000, 24165000, 24265000, 24360000, 24460000, 24560000, 24660000, 24760000, 
    24860000, 24960000, 25065000, 25165000, 25270000, 25375000, 25475000, 25580000, 25685000, 25790000, 
    25900000, 26005000, 26115000, 26220000, 26330000, 26440000, 26545000, 26660000, 26770000, 26880000, 
    26990000, 27105000, 27215000, 27330000, 27445000, 27560000, 27675000, 27790000, 27910000, 28025000, 
    28145000, 28260000, 28380000, 28500000, 28620000, 28740000, 28865000, 28985000, 29110000, 29230000, 
    29355000, 29480000, 29605000, 29730000, 29860000, 29985000, 30115000, 30245000, 30370000, 30500000, 
    30635000, 30765000, 30895000, 31030000, 31165000, 31300000, 31435000, 31570000, 31705000, 31840000, 
    31980000
]

HERO_ESSENCE = [
    0, 0, 0, 0, 0, 0, 0, 0, 0, 10, #10
    0, 0, 0, 0, 0, 0, 0, 0, 0, 40, #20
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  #30
    0, 0, 0, 0, 0, 0, 0, 0, 0, 100, #40
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,   #50
    0, 0, 0, 0, 0, 0, 0, 0, 0, 250, #60
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,   #70
    0, 0, 0, 0, 0, 0, 0, 0, 0, 500, #80
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,   #90
    0, 0, 0, 0, 0, 0, 0, 0, 0, 1200, #100
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 3000, #120
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 6000, #140
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
    0, 0, 0, 0, 0, 0, 0, 0, 0, 12000, #160
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 25000, #180
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 30000, #200
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 40000, #220
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 3174, #240
    3456, 3663, 3877, 4098, 4325, 4560, 4801, 5050, 5305, 5568, #250
    5839, 6116, 6401, 6693, 6993, 7301, 7616, 7938, 8269, 8607, #260
    8954, 9308, 9670, 10041, 10419, 10806, 11201, 11605, 12017, 12437, #270
    12866, 13304, 13750, 14205, 14669, 15142, 15624, 16114, 16614, 17123, #280
    17216, 17309, 17403, 17497, 17591, 17686, 17781, 17877, 17973, 18070, #290
    18166, 18264, 18361, 18459, 18558, 18657, 18756, 18856, 18956, 19057, #300
    19158, 19260, 19362, 19464, 19567, 19671, 19774, 19879, 19983, 20089, #310
    20194, 20300, 20407, 20514, 20622, 20730, 20838, 20947, 21056, 21166, #320
    21277, 21388, 21499, 21611, 21723, 21836, 21950, 22063, 22178, 22293, #330
    22408, 22524, 22641, 22758, 22875, 22993, 23112, 23231, 23350, 23471, #340
    23591, 23713, 23834, 23957, 24080, 24203, 24327, 24452, 24577, 24703, 
    24829, 24956, 25083, 25211, 25340, 25469, 25599, 25730, 25861, 25991, 
    26122, 26253, 26385, 26516, 26649, 26781, 26915, 27048, 27182, 27317, 
    27452, 27588, 27724, 27860, 27997, 28134, 28271, 28409, 28547, 28686, 
    28825, 28964, 29104, 29245, 29385, 29527, 29668, 29811, 29954, 30097, 
    30240, 30384, 30529, 30673, 30819, 30964, 31110, 31257, 31404, 31552, #400
    31699, 31847, 31996, 32144, 32294, 32443, 32593, 32743, 32894, 33045, 
    33196, 33348, 33500, 33652, 33805, 33959, 34112, 34266, 34421, 34575, 
    34730, 34886, 35042, 35198, 35354, 35510, 35667, 35824, 35982, 36139, 
    36297, 36456, 36615, 36774, 36934, 37094, 37254, 37415, 37576, 37737, 
    37898, 38060, 38222, 38384, 38546, 38709, 38872, 39036, 39200, 39364, 
    39528, 39693, 39858, 40023, 40189, 40355, 40521, 40688, 40855, 41022, 
    41189, 41357, 41525, 41693, 41862, 42031, 42201, 42371, 42541, 42712, 
    42883, 43054, 43226, 43398, 43570, 43742, 43915, 44088, 44261, 44435, #480 numbers here to 260 are unchecked and might be wrong
    44864, 44971, 45079, 45187, 45296, 45405, 45514, 45624, 45735, 45845, #490
    45957, 46068, 46181, 46293, 46407, 46520, 46634, 46749, 46864, 46980,
    47096
]

def calculate_costs_view(request):
    if request.method == 'POST':
        current_level = int(request.POST.get('current_level'))
        target_level = int(request.POST.get('target_level'))
        
        if(current_level < 1 or target_level < 1 or current_level > 501 or target_level > 501):
            return render(request, 'Levels/Calculator.html', {})
        
        gold_cost = 0
        exp_cost = 0
        essence_cost = 0

        for level in range(current_level, target_level):
            gold_cost += GOLD[level - 1]
            exp_cost += HERO_EXP[level - 1]
            essence_cost += HERO_ESSENCE[level - 1]
    
        return render(request, 'Levels/Calculator.html', {'gold':gold_cost, 'exp':exp_cost, 'essence':essence_cost, 'cl':current_level, 'tl':target_level})
    else:
        return render(request, 'Levels/Calculator.html', {})